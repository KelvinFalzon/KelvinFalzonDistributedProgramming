@page "/upcomingMovie"
@using System.Net.Http.Json
@using Microsoft.AspNetCore.Components.Authorization
@using System.Security.Claims
@inject HttpClient Http
@inject ApiAuthenticationStateProvider ApiAuthenticationStateProvider

<PageTitle>Upcoming Movies</PageTitle>

<h3>Upcoming Movies</h3>

<div>
    <input type="text" @bind="inputMovie" placeholder="Enter Movie id" />
    <button @onclick="SubmitText">Submit</button>
</div>

@code {
    private string inputMovie = string.Empty;

    private async Task SubmitText()
    {
        var upcomingMovie = new
            {
                UpcomingMovie = inputMovie
            };

        await Http.PostAsJsonAsync("http://localhost:5003/gateway/Upcoming/newUpcoming", upcomingMovie);
    }
}